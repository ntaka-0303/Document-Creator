<!--
FILE_NAME: evaluation.md
DOC_TYPE: requirement
DESCRIPTION: 要件定義書(document type: requirement)のAI自動評価指標
PURPOSE: doc-evaluator がドラフトを評価するための標準基準
-->

# 評価指標（requirement）

本ファイルは「要件定義書（requirement）」に対する評価基準である。  
評価は以下 4 領域（A〜D）・合計 100 点で実施する。

---

## A. 表層品質・構成（Surface & Structure）25点

### A-1. テンプレ準拠度（5点）
- テンプレートに定義された章立て（背景・目的、用語定義、業務要件、機能要件、非機能要件、インターフェース要件、データ要件、制約、テスト観点 等）が過不足なく含まれている  
- 章の順序やレベル構造が大きく崩れていない  

### A-2. 文章の明確性（5点）
- 要件が曖昧さなく、具体的な表現で記載されている  
- 「〜できることが望ましい」などのあいまいな記述が最小限に抑えられている  

### A-3. 一貫性（5点）
- 用語・略語・役割名・システム名・ユースケースID等が全章で統一されている  
- 同じ要件に関する記述が章をまたいで矛盾していない  

### A-4. 網羅性（5点）
- 業務要件・機能要件・非機能要件・インターフェース要件・データ要件が、計画書・提案書から期待される範囲を概ねカバーしている  

### A-5. 誤字脱字・フォーマット（5点）
- 誤字脱字が少なく、読みやすさを損なっていない  
- Markdown の見出し・リスト・表などの構造が適切に使われている  

---

## B. 要件の妥当性・実現可能性（Requirements Quality）25点

### B-1. 実装可能性（5点）
- AIWorkforce と周辺システムの技術的制約を踏まえ、現実的に実装可能な要件になっている  
- 非現実的な要求（性能・自動化範囲・連携方式など）が主軸になっていない  

### B-2. 明確な受入条件・テスト観点（5点）
- 要件から、受入テストで確認すべき観点が明確に読み取れる  
- 「満たされている／いない」が判定できる粒度で記載されている  

### B-3. 非機能要件の具体性（5点）
- 性能、可用性、セキュリティ、運用・保守などの非機能要件が具体的な指標（例：応答時間、稼働時間帯、ログ保持期間 等）で定義されている  

### B-4. 制約条件・前提条件の明示（5点）
- 既存システム・インフラ・組織・予算・スケジュールに関する制約・前提が明示されている  

### B-5. AI特有の要件の考慮（5点）
- エージェント／ワークフロー／ナレッジ／RAG 等、AI特有の要素に対する要件が適切に記述されている  

---

## C. ビジネス要求との整合性・トレーサビリティ（Traceability）25点

### C-1. 上位成果物との整合性（5点）
- 提案書・計画書に記載された目的・ゴール・KGI/KPI と整合している  
- 別ドキュメントで約束した内容から大きく逸脱していない  

### C-2. ビジネス要求との対応関係（5点）
- ビジネス要求／業務課題と要件（業務要件・機能要件）が対応づけられている  
- 「なぜこの要件が必要か」が説明可能な構造になっている  

### C-3. ユースケース／業務シナリオとの対応（5点）
- ユースケースIDや業務シナリオと機能要件・非機能要件の対応関係が分かる  

### C-4. 利害関係者のニーズ反映（5点）
- 営業部門、バックオフィス、DX推進部、情シス、リスク管理・監査部門など、  
  主要ステークホルダーのニーズが適切に考慮されている  

### C-5. 将来拡張・スケールへの配慮（5点）
- 初期導入スコープに加えて、将来的なユースケース追加・全社展開を見据えた記述がなされている  

---

## D. セキュリティ・ガバナンス・運用（Risk & Compliance）25点

### D-1. セキュリティ要件（5点）
- 認証／認可／暗号化／ネットワーク分離など、基本的なセキュリティ要件が要件定義書の形で整理されている  

### D-2. データ／ナレッジ管理要件（5点）
- ナレッジポータルへの登録・更新、アクセス権限、データマスキング等の要件が整理されている  

### D-3. ログ・監査・コンプライアンス（5点）
- 操作ログ、エージェント実行ログ、データアクセスログ等に関する要件が記載されている  
- ログ保持期間や監査時の参照方法など、コンプライアンス観点への配慮が見られる  

### D-4. 運用・保守要件（5点）
- 障害対応、問い合わせ対応、モデル・ワークフロー更新方針など、運用・保守に関する要件が整理されている  

### D-5. リスク・課題の整理（5点）
- 要件定義時点で把握しているリスク・課題がリストアップされ、対応方針が検討されている  

---

# スコアリング方法

各項目を 1〜5 点で採点し、以下の形式で返す：

- A（25点満点）
- B（25点満点）
- C（25点満点）
- D（25点満点）
- Total（合計100点）

---

# pass / fail 基準

- **90点以上：pass（要件定義書として十分な水準）**  
- **75〜89点：条件付き pass（改善推奨）**  
- **74点以下：fail（重要な改善が必要）**

---

# 出力形式（doc-evaluator による回答フォーマット）

評価エージェントは以下の JSON 形式で回答する：

```
{
  "scores": {
    "A_surface":       { "score": X, "details": {...} },
    "B_requirements":  { "score": X, "details": {...} },
    "C_traceability":  { "score": X, "details": {...} },
    "D_risk":          { "score": X, "details": {...} },
    "total": X,
    "pass_fail": "pass" | "fail"
  },
  "feedback": {
    "strengths": ["..."],
    "improvements": ["..."],
    "recommendations": ["..."]
  }
}
```

---

# 評価対象ファイル

- 対象：`@docs/03_requirement/output/*.md`（要件定義書ドラフト）  
- 基準：本 `evaluation.md`

---
