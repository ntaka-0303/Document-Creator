# DocumentCreator

Claude Agent SDKを活用した、AIによるドキュメント自動生成システムです。複数のスタイルでドラフトを生成し、評価・改善を繰り返すことで、高品質なドキュメントを作成します。

## 概要

DocumentCreatorは、以下の機能を提供します：

- **複数スタイルでのドラフト生成**: 構造化、ナラティブ、簡潔、論理的、インパクト重視など、異なるスタイルで複数のドラフトを生成
- **自動評価**: 生成されたドラフトを定義された評価基準に基づいて自動評価
- **反復改善**: 評価結果に基づき、合格基準を満たすまで改善を繰り返し
- **最終化統合**: 複数の修正済みドラフトを評価基準に基づいて統合し、各ドラフトの良い部分を取り入れた最終版を作成
- **柔軟なドキュメントタイプ**: 提案書、計画書、要件定義書、To-Beワークフロー、仕様書など、複数のドキュメントタイプに対応

## プロジェクト構造

```
DocumentCreator/
├── .claude/
│   ├── agents/                       # Claude Agentの定義
│   │   ├── doc-drafter.md            # 統合ドラフターエージェント（style パラメータで出力形式を切替）
│   │   ├── doc-evaluator.md          # 評価エージェント
│   │   └── doc-finalizer.md          # 最終化エージェント
│   ├── commands/
│   │   ├── create_document.md        # ドキュメント作成コマンド（オーケストレーション機能含む）
│   │   ├── summarize_inputs.md       # docs/00_inputs/ を要約して summary.md を生成するコマンド
│   │   └── clear_outputs.md          # 出力ファイルをクリアするコマンド
│   └── registry/
│       ├── document_types.md         # ドキュメント種別の定義
│       └── drafter_agents.md         # ドラフタースタイルの定義
│
└── docs/
    ├── 00_inputs/                    # 入力情報（要件、背景など）
    │   └── summary.md               # 00_inputs 配下の要約（自動生成・ドラフターは主にこれを参照）
    ├── 01_proposal/                  # 提案書関連
    ├── 02_plan/                      # 計画書関連
    ├── 03_requirement/               # 要件定義書関連
    ├── 04_to-be_workflow/            # To-Beワークフロー関連
    └── 05_spec/                      # 仕様書関連
        ├── definitions/
        │   ├── template.md           # テンプレート
        │   └── evaluation.md         # 評価基準
        └── output/                   # 最終版出力先
```

## エージェント構成

### コマンド
- **/create_document**: ドキュメント生成プロセス全体を管理
- **/summarize_inputs**: `docs/00_inputs/` 配下の Markdown を要約し、`summary.md` を生成
- **/clear_outputs**: `docs/<doc_type>/output` ディレクトリ内のファイルを削除

### ドラフター
- **doc-drafter**: 統合ドラフターエージェント
  - `style` パラメータで出力形式を切替（structured, narrative, impact, concise, logical）

| スタイル | 特徴 |
|---------|------|
| structured | 構造化・網羅性重視（デフォルト） |
| narrative | ストーリー性・可読性重視 |
| impact | 経営層向け・インパクト重視 |
| concise | 簡潔・事実ベース |
| logical | 論理構成（WHY/WHAT/HOW）重視 |

### 評価器・最終化器
- **doc-evaluator**: 生成されたドラフトを評価基準に基づいて評価
- **doc-finalizer**: 複数のドラフトを評価基準に基づいて統合し、最終版を作成

## 使い方

### 基本的な使用方法

1. **入力情報の準備**
   - `docs/00_inputs/` ディレクトリに、要件や背景情報を記載した Markdown ファイルを配置
   - `/create_document` 実行時に `summary.md` がなければ自動生成

2. **ドキュメント生成の実行**

   ```
   /create_document
   ```

   コマンド実行後、ドキュメント種別とモードを選択：

   ```
   作成するドキュメント種別を選択してください：

   1. 提案書
   2. 計画書
   3. 要件定義書
   4. To-Beワークフロー / 業務フロー
   5. 機能仕様書 / システム仕様書

   番号を入力してください（1-5）:
   ```

3. **スタイルの指定**（オプション）

   特定のスタイルを希望する場合は、以下のようなキーワードを使用：
   - 「ストーリーで」「読み物として」→ narrative
   - 「経営層向け」「インパクト」→ impact
   - 「簡潔に」「短く」→ concise
   - 「論理構成を重視」→ logical

### 出力ファイルのクリア

```
/clear_outputs
```

対話的にクリア対象を選択し、確認後に削除を実行。

### 利用可能なドキュメントタイプ

| 番号 | doc_type | 説明 |
|-----|----------|------|
| 1 | `proposal` | 提案書 |
| 2 | `plan` | 計画書 |
| 3 | `requirement` | 要件定義書 |
| 4 | `to-be_workflow` | To-Beワークフロー |
| 5 | `spec` | 機能仕様書 |

## 実行モード

| モード | ドラフター数 | フロー | 用途 |
|-------|------------|--------|------|
| **標準モード**（デフォルト） | 1 | ドラフト生成 → 自己レビュー → 完了 | 最速で基本的なドキュメントが欲しい場合 |
| **品質モード** | 1 | ドラフト生成 → 評価 → 改善 → 完了 | 評価フィードバックを反映したい場合 |
| **高品質モード** | 2 | ドラフト生成 → 評価 → 統合 → 完了 | 複数視点から最良の内容を統合したい場合 |

## ワークフロー

`/create_document` コマンドが以下のプロセスを実行します：

1. **依頼受付**: ユーザーからの依頼内容を把握
2. **doc_type決定**: 対話的にドキュメント種別を選択
3. **モード選択**: 標準/品質/高品質モードを選択
4. **インプット収集**: `docs/00_inputs/summary.md` を確認（なければ自動生成）
5. **ドラフト生成**: モードに応じたドラフターでドラフトを生成
6. **評価・改善**（品質/高品質モード）: 評価エージェントによる評価と改善
7. **統合**（高品質モード）: 最終化エージェントによる複数ドラフトの統合
8. **最終出力**: `docs/<doc_type>/output/<テンプレート名>_<YYYYMMDD>.md` に保存

## 技術スタック

- **Claude Agent SDK**: マルチエージェントシステムの実装基盤
- **Claude Code**: エージェントの実行環境

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 今後の拡張予定

- 新しいドキュメントタイプの追加
- カスタムテンプレートのサポート
- 評価基準のカスタマイズ機能
- 出力フォーマットの多様化（PDF、HTML等）
