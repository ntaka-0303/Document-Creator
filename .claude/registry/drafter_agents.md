# ドラフターエージェントレジストリ

このファイルは DocumentCreator で利用可能な全ドラフターエージェントの定義を集約管理します。

## 使用方法

- エージェントは `@.claude/registry/drafter_agents.md` で参照可能
- 新しいドラフターを追加する場合は、ドラフターテーブルとキーワードマッピングの両方に追加
- エージェントファイルは `.claude/agents/` 配下に配置

## フィールド定義

| フィールド名 | 説明 |
|-------------|------|
| ドラフターID | 内部識別子（英数字、ハイフン可、エージェントファイル名と一致） |
| エージェントファイル | `.claude/agents/` 配下のファイル名 |
| 表示名 | 日本語での短縮名 |
| 説明 | 詳細な特徴・用途説明 |
| 主な用途 | どのような場面で優先すべきか |

## ドラフターエージェント一覧

| ドラフターID | エージェントファイル | 表示名 | 説明 | 主な用途 |
|-------------|---------------------|--------|------|----------|
| structured | doc-drafter-structured.md | 構造化 | 章立てと要件の網羅性を最重視、テンプレートに忠実な構造化ドキュメント | 全ドキュメント種別で基盤として推奨。情報の抜け漏れを防ぐ |
| narrative | doc-drafter-narrative.md | ナラティブ | ストーリー性と可読性を重視、読み物として成立するドキュメント | 提案書、ワークフロー等、読み手を説得・納得させる必要がある場合 |
| impact | doc-drafter-impact.md | インパクト | 経営層向け、短くインパクトのある要点整理 | 提案書、エグゼクティブサマリ、役員向け資料 |
| concise | doc-drafter-concise.md | 簡潔 | 最小限の情報・事実ベース、箇条書き中心 | 仕様書、計画書等、実務者向けで簡潔さを優先する場合 |
| logical | doc-drafter-logical.md | 論理構成 | WHY/WHAT/HOW の論理構成を重視、明確な因果関係 | 仕様書、要件定義書、計画書等、論理的な説明が求められる場合 |

## キーワードベースの選択ロジック

ユーザーの発言に以下のキーワードが含まれる場合、対応するドラフターを**必ず含めます**。

| キーワード（日本語） | 対応ドラフターID | 優先度 |
|---------------------|-----------------|-------|
| ストーリーで、読み物として、ナラティブ | narrative | MUST |
| 経営層向け、役員向け、インパクト、サマリだけ、エグゼクティブ | impact | MUST |
| 簡潔に、短く、箇条書き中心、最低限だけでいい | concise | MUST |
| ロジック、Why/What/How、論理構成を重視 | logical | MUST |

**注意**: キーワードマッチした場合でも、構造の安定性を担保するため `structured` を同時に含めることを推奨します。

## エージェント間の共通インターフェース

### 入力

全ドラフターは以下を入力として受け取ります：

- ドキュメントの目的・想定読者・前提条件の要約（テキスト）
- `docs/00_inputs/` 配下の全ファイル（@ 参照）
- `docs/<doc_type>/output/` 配下の最終版ファイル（`draft/` 配下を除く、@ 参照）
- `docs/<doc_type>/definitions/template.md`（@ 参照）
- （2回目以降）前回ドラフトに対する評価・フィードバック（テキスト）

### 出力

全ドラフターは以下を出力します：

- **Markdown 形式のドラフト本文のみ**
- 余計な前置き・後書きは含めない
- テンプレートの章構成を遵守
- ファイル保存は行わない（呼び出し元が Write ツールで保存）

## 拡張時の手順

新しいドラフタースタイルを追加する場合：

1. `.claude/agents/doc-drafter-<新しいID>.md` を作成
2. frontmatter に `name`, `description`, `color` を定義
3. このファイルの「ドラフターエージェント一覧」テーブルに行を追加
4. 必要に応じて「キーワードベースの選択ロジック」テーブルにキーワードを追加
5. `README.md` の要約テーブルを更新（オプション）

## エージェントファイルの frontmatter 仕様

各エージェントファイルは以下の frontmatter を持つ必要があります：

```yaml
---
name: doc-drafter-<ID>
description: >
  このドラフターの特徴を簡潔に記述
color: <色名>  # green, blue, purple, orange, red など
---
```