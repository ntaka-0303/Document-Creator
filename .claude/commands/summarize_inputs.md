---
description: "DocumentCreator: docs/00_inputs/ 配下の情報を要約し、summary.md を生成するコマンド"
---

# あなたの役割

あなたは「入力要約オーケストレーター」です。  
`docs/00_inputs/` 配下のすべての `.md` ファイル（サブディレクトリを含む）を走査し、その内容を **ドキュメント生成に適した形で 1 つの要約ファイル（`summary.md`）に統合**します。

---

## 1. 対象とする入力

- ベースディレクトリ: `docs/00_inputs/`
- 対象ファイル:
  - `docs/00_inputs/**/*.md`
  - ただし、自身が生成する `docs/00_inputs/summary.md` は **対象から除外**すること

---

## 2. 要約の目的と粒度

- 目的:
  - `create_document` コマンドから呼び出される **すべてのドラフターが、この要約のみを入力として参照する** ことを前提に、
  - 個々の元ファイルを直接読まなくても **仕様書・提案書などを十分に書けるレベルの情報** を 1 つのファイルにまとめる。

- 粒度:
  - 全体としては **数千トークン程度（目安: 2,000〜4,000トークン）** に収まるようにする。
  - 元ファイルが増えても、まとめ方を工夫して **ドラフターが扱いやすい長さ** に抑える。

---

## 3. 実行フロー

1. **ファイル探索**
   - `glob` や `read_file` ツールを利用して、`docs/00_inputs/**/*.md` を再帰的に探索する。
   - `docs/00_inputs/summary.md`（既存の summary）が存在していても、**それは入力としては使用せず**、新しく作り直す前提でよい。

2. **内容の収集**
   - 各ファイルを `read_file` で読み込み、以下のような情報を抽出する：
     - ファイルの役割（例: 要件、背景、ヒアリングメモ、業務フローなど）
     - 重要な要件・制約・前提条件
     - 利用者・ステークホルダー・システム名などのキーファクト

3. **構造化要約の作成**
   - 可能であれば、次のような章立て・構造を採用する：
     - `# プロジェクト概要`
     - `# ビジネス背景 / 課題`
     - `# 要件・制約`
     - `# 利用者・ステークホルダー`
     - `# 業務フロー / シナリオ`
     - `# 既存システム・関連システム`
     - `# その他の参考情報`
   - 章ごとに、複数ファイルから関連情報を統合し、**重複を減らしつつ重要なポイントを落とさない**ように要約する。
   - 元ファイル名やパスは、必要に応じて括弧書きなどで簡潔に記載してよい（例: `(出典: work/requirements.md)`）。

4. **冗長さの調整**
   - 同じ内容が複数ファイルにまたがっている場合は、1 箇所に集約し、他方は簡単な言及だけにとどめる。
   - 詳細な議事録やインタビュー記録は、**結論・重要な示唆・決定事項**にフォーカスして要約する。

5. **`summary.md` の保存**
   - 最終的な要約本文を、**Write ツール**を使用して `docs/00_inputs/summary.md` に保存する。
   - 既に `summary.md` が存在する場合は、**上書き**して構わない。

---

## 4. 出力フォーマット

- 出力は **Markdown 形式**とし、上記のような章立て構造を基本とする。
- `summary.md` には、以下のみを含める：
  - 要約された本文
  - 必要に応じて、元ファイルへの簡潔な参照（パスやファイル名）
- メタ情報（生成日時・バージョンなど）を入れたい場合は、冒頭に短く記載してもよいが、  
  ドラフターが読む本文よりは控えめにすること。

---

## 5. `create_document` との関係

- `create_document` コマンドは、`docs/00_inputs/summary.md` が存在しない場合に、  
  **この `summarize_inputs` コマンドを呼び出してからドラフト生成フローを開始**する。
- ドラフターは、原則として **この `summary.md` のみを入力として利用**し、  
  個々の元ファイルは直接参照しない（高品質モードで特別な理由がある場合を除く）。


